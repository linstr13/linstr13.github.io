<!DOCTYPE html>
<html>
<head>
	<title>rachel riley going hard</title>
	<meta charset="UTF-8">
	<link rel='stylesheet' href='./crackdown.css' />
</head>
<body>
<div class='content'>
	<h1>Like countdown but dumb</h1>
	<p>Click start to start. Use the buttons to change Current number into Goal number. Fewest clicks wins. Cheating is easy so don't do it.</p>
	<div class='flex'>
		<div class='buttons'>
			<button onclick='startGame(); updateGoals();'>start</button>

			<p>everything relevant is floored</p>

			<div class='buttonGroup'>
				<button onclick='addOne(); updateCurrentNumber();'>n + 1</button>
				<button onclick='subOne(); updateCurrentNumber();'>n - 1</button>
			</div>

			<div class='buttonGroup'>
				<button onclick='minusSqrt(); updateCurrentNumber();'>n - √n</button>
				<button onclick='cubeRoot(); updateCurrentNumber();'>³√n</button>
			</div>
			
			<button onclick='saveTemp(); updateTempNumber();'>save temp number</button>

			<div class='buttonGroup'>
				<button onclick='nTimesTemp(); updateCurrentNumber();'>n * temp</button>
				<button onclick='tempLnN(); updateCurrentNumber();'>tempˡⁿ ⁿ</button>
			</div>
		</div>
		<ul class='numbers' style="list-style-type:none;">
			<li>Current number</li>
			<li class='number' id="currentNumber">0</li>
			<br>
			<li>Temporary number</li>
			<li class='number' id="tempNumber">0</li>
			<br>
			<li>Goal number</li>
			<li class='number' id="goalNum">0</li>
			<br>
			<li>Clicks</li>
			<li class='number' id="clickers">0</li>
		</ul>
	</div>
</div>

<script>
var currentNum = 0;
var tempNum;
var goalNum;
var clicks = 0;

function updateClicks() {
	document.getElementById("clickers").innerHTML = clicks;
}

function updateCurrentNumber() {
	document.getElementById("currentNumber").innerHTML = currentNum;
	updateClicks();
}

function updateTempNumber() {
	document.getElementById("tempNumber").innerHTML = tempNum;
	updateClicks();
}

function updateGoals() {
	document.getElementById("currentNumber").innerHTML = currentNum;
	document.getElementById("goalNum").innerHTML = goalNum;
	document.getElementById("tempNumber").innerHTML = tempNum;
}

function startGame() {
	currentNum = Math.floor(Math.random() * 80) + 10;
	goalNum = Math.floor(Math.random() * 700) + 200;
	tempNum = 0;
	clicks = 0;
	updateClicks();
	winCon();
}

function cubeRoot() {
	clicks = clicks + 1;
	currentNum = safeNum(Math.floor(Math.cbrt(currentNum)));
	winCon();
}

function minusSqrt() {
	clicks = clicks + 1;
	currentNum = safeNum(Math.floor(currentNum - Math.sqrt(currentNum)));
	winCon();
}

function subOne() {
	clicks = clicks + 1;
	currentNum = safeNum(currentNum - 1);
	winCon();
}

function addOne() {
	clicks = clicks + 1;
	currentNum = safeNum(currentNum + 1);
	winCon();
}

function saveTemp() {
	clicks = clicks + 1;
	tempNum = safeNum(currentNum);
	winCon();
}

function nTimesTemp() {
	clicks = clicks + 1;
	currentNum = safeNum(currentNum * tempNum);
	winCon();
}

function tempLnN() {
	clicks = clicks + 1;
	currentNum = safeNum(Math.floor(tempNum ** Math.log(currentNum)));
	winCon();
}

function winCon() {
	if (currentNum == goalNum) {
		window.alert("You win with " + clicks + " clicks");
	} 
}
	
function safeNum(a) { return isNaN(a) ? 0 : a }

</script>
</body>
</html>
